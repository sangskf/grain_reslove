<template>
  <div class="about-container">
    <h2>å…³äºåº”ç”¨</h2>
    
    <div class="about-section version-section">
      <div class="version-layout">
        <div class="version-info">
          <div class="app-logo">ğŸŒ¾</div>
          <div class="version-details">
            <h3>ç²®æƒ…æ•°æ®è§£æå·¥å…·</h3>
            <div class="version-meta">
              <div class="version-number">V{{ appVersion }}</div>
              <div class="version-updater">
                <AppUpdater />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="about-section">
      <h3>åŠŸèƒ½ä»‹ç»</h3>
      <p>æœ¬è½¯ä»¶æ˜¯ä¸€æ¬¾ä¸“é—¨ç”¨äºè§£æç²®æƒ…ç›‘æµ‹æ•°æ®çš„å·¥å…·ï¼Œæ—¨åœ¨ç®€åŒ–ä»“å‚¨ç²®é£Ÿæ¸©åº¦ä¸æ¹¿åº¦æ•°æ®çš„è·å–ã€è§£æä¸åˆ†æï¼Œæé«˜ç²®æƒ…ç›‘æµ‹æ•ˆç‡ã€‚</p>
      
      <div class="feature-list">
        <div class="feature-item">
          <div class="feature-icon">ğŸ“¡</div>
          <div class="feature-text">
            <h4>è¿œç¨‹æ•°æ®é‡‡é›†</h4>
            <p>é€šè¿‡TCP/IPç½‘ç»œè¿œç¨‹è¿æ¥åˆ°ç²®æƒ…æ•°æ®é‡‡é›†è®¾å¤‡ï¼Œå®æ—¶è·å–ä¼ æ„Ÿå™¨æ•°æ®ï¼Œæ”¯æŒå¤šç§é€šä¿¡åè®®</p>
          </div>
        </div>
        
        <div class="feature-item">
          <div class="feature-icon">ğŸ“Š</div>
          <div class="feature-text">
            <h4>æ•°æ®è§£æä¸å±•ç¤º</h4>
            <p>è§£æç²®æƒ…è®¾å¤‡è¿”å›çš„16è¿›åˆ¶æ•°æ®ï¼Œä»¥å›¾è¡¨å’Œè¡¨æ ¼å½¢å¼ç›´è§‚å±•ç¤ºæ¸©åº¦ä¸æ¹¿åº¦ä¿¡æ¯ï¼Œæ–¹ä¾¿æ•°æ®åˆ†æ</p>
          </div>
        </div>
        
        <div class="feature-item">
          <div class="feature-icon">âš™ï¸</div>
          <div class="feature-text">
            <h4>çµæ´»é…ç½®</h4>
            <p>æ”¯æŒå¤šç§ä¼ æ„Ÿå™¨å¸ƒå±€ï¼Œçµæ´»è®¾ç½®å±‚æ•°ã€è¡Œæ•°ã€åˆ—æ•°ç­‰å‚æ•°ï¼Œé€‚é…ä¸åŒè§„æ¨¡çš„ç²®åº“ç¯å¢ƒ</p>
          </div>
        </div>
        
        <div class="feature-item">
          <div class="feature-icon">ğŸ“</div>
          <div class="feature-text">
            <h4>æ—¥å¿—è®°å½•</h4>
            <p>è‡ªåŠ¨è®°å½•ç³»ç»Ÿæ—¥å¿—å’Œé€šä¿¡æ•°æ®ï¼Œä¾¿äºè¿½è¸ªé—®é¢˜å’Œåˆ†æå†å²æ•°æ®</p>
          </div>
        </div>
        
        <div class="feature-item">
          <div class="feature-icon">ğŸ”„</div>
          <div class="feature-text">
            <h4>è‡ªåŠ¨æ›´æ–°</h4>
            <p>æ”¯æŒåº”ç”¨è‡ªåŠ¨æ£€æŸ¥æ›´æ–°ï¼Œç¡®ä¿æ‚¨å§‹ç»ˆä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„å·¥å…·</p>
          </div>
        </div>
      </div>
    </div>
    
    <div class="about-section">
      <h3>ä½¿ç”¨è¯´æ˜</h3>
      <div class="instructions">
        <div class="instruction-item">
          <div class="instruction-number">1</div>
          <div class="instruction-content">
            <h4>åŸºæœ¬è®¾ç½®</h4>
            <p>åœ¨"ç³»ç»Ÿè®¾ç½®"é¡µé¢é…ç½®é»˜è®¤IPåœ°å€ã€ç«¯å£å·ã€è¡Œåˆ—å±‚æ•°ç­‰å‚æ•°</p>
          </div>
        </div>
        
        <div class="instruction-item">
          <div class="instruction-number">2</div>
          <div class="instruction-content">
            <h4>è®¾å¤‡è¿æ¥</h4>
            <p>åœ¨ä¸»é¡µé¢è¾“å…¥è®¾å¤‡IPåœ°å€å’Œç«¯å£ï¼Œç‚¹å‡»"è¿æ¥è®¾å¤‡"æŒ‰é’®å»ºç«‹è¿æ¥</p>
          </div>
        </div>
        
        <div class="instruction-item">
          <div class="instruction-number">3</div>
          <div class="instruction-content">
            <h4>æ•°æ®é‡‡é›†</h4>
            <p>è¿æ¥æˆåŠŸåï¼Œç‚¹å‡»"è·å–æ•°æ®"æŒ‰é’®å‘é€æŸ¥è¯¢å‘½ä»¤ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨è§£æè¿”å›æ•°æ®</p>
          </div>
        </div>
        
        <div class="instruction-item">
          <div class="instruction-number">4</div>
          <div class="instruction-content">
            <h4>æ•°æ®æŸ¥çœ‹</h4>
            <p>åœ¨å›¾è¡¨åŒºåŸŸæŸ¥çœ‹æ¸©åº¦åˆ†å¸ƒï¼Œæ”¯æŒåˆ‡æ¢ä¸åŒå±‚æ•°å’Œè§†å›¾æ¨¡å¼</p>
          </div>
        </div>
        
        <div class="instruction-item">
          <div class="instruction-number">5</div>
          <div class="instruction-content">
            <h4>æ•°æ®å¯¼å‡º</h4>
            <p>å¯ä»¥å°†è·å–çš„æ•°æ®å¯¼å‡ºä¸ºExcelç­‰æ ¼å¼ï¼Œä¾¿äºåç»­åˆ†æå’ŒæŠ¥è¡¨ç”Ÿæˆ</p>
          </div>
        </div>
      </div>
    </div>
    
    <div class="about-section">
      <h3>å¸¸è§é—®é¢˜</h3>
      <div class="faq-list">
        <div class="faq-item">
          <div class="faq-question">è¿æ¥è®¾å¤‡å¤±è´¥æ€ä¹ˆåŠï¼Ÿ</div>
          <div class="faq-answer">
            <p>è¯·æ£€æŸ¥ï¼š</p>
            <ul>
              <li>è®¾å¤‡IPåœ°å€å’Œç«¯å£å·æ˜¯å¦æ­£ç¡®</li>
              <li>è®¾å¤‡æ˜¯å¦å·²å¼€æœºå¹¶æ­£å¸¸å·¥ä½œ</li>
              <li>ç½‘ç»œè¿æ¥æ˜¯å¦ç¨³å®š</li>
              <li>æ˜¯å¦æœ‰é˜²ç«å¢™é˜»æ­¢è¿æ¥</li>
            </ul>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question">æ•°æ®è§£æä¸æ­£ç¡®æ€ä¹ˆå¤„ç†ï¼Ÿ</div>
          <div class="faq-answer">
            <p>å¯èƒ½åŸå› ï¼š</p>
            <ul>
              <li>è®¾å¤‡é€šä¿¡åè®®ä¸å…¼å®¹ï¼Œè¯·æ›´æ–°è½¯ä»¶ç‰ˆæœ¬</li>
              <li>è¯·ç¡®è®¤è®¾ç½®çš„è¡Œåˆ—å±‚æ•°ä¸å®é™…è®¾å¤‡åŒ¹é…</li>
              <li>æ£€æŸ¥è®¾å¤‡å›ºä»¶ç‰ˆæœ¬æ˜¯å¦éœ€è¦æ›´æ–°</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    
    <div class="about-section">
      <h3>é‚®ç®±è”ç³»</h3>
      <p>å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·å‘é€é‚®ä»¶è‡³ï¼š</p>
      <div class="contact-info">
        <div class="contact-item">
          <div class="contact-icon">ğŸ“§</div>
          <div class="contact-text">support@example.com</div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import { ref, onMounted } from 'vue';
import { getVersion } from '@tauri-apps/api/app';
import AppUpdater from '../components/AppUpdater.vue';

export default {
  name: 'AboutPage',
  components: {
    AppUpdater
  },
  
  setup() {
    const appVersion = ref('0.0.0');
    
    // è·å–åº”ç”¨ç‰ˆæœ¬
    const fetchAppVersion = async () => {
      try {
        const version = await getVersion();
        appVersion.value = version;
      } catch (error) {
        console.error('è·å–ç‰ˆæœ¬ä¿¡æ¯å¤±è´¥:', error);
        // å¦‚æœè·å–å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤ç‰ˆæœ¬
        appVersion.value = '0.1.0';
      }
    };
    
    onMounted(async () => {
      await fetchAppVersion();
    });
    
    return {
      appVersion
    };
  }
};
</script>

<style scoped>
.about-container {
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
}

h2 {
  margin-top: 0;
  margin-bottom: 30px;
  color: var(--text-color, #333);
}

.about-section {
  margin-bottom: 40px;
  background-color: var(--sidebar-bg, #f8f8f8);
  border-radius: 8px;
  padding: 20px;
}

h3 {
  font-size: 1.3rem;
  margin-top: 0;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--sidebar-border, #eee);
  color: var(--text-color, #333);
}

.version-section {
  background-color: var(--active-color, #4CAF50);
  color: var(--active-text, white);
  position: relative;
  padding: 20px;
}

.version-layout {
  display: flex;
}

.version-info {
  display: flex;
  width: 100%;
}

.app-logo {
  font-size: 2.5rem;
  margin-right: 15px;
  display: flex;
  align-items: center;
}

.version-details {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}

.version-details h3 {
  margin: 0 0 10px 0;
  padding: 0;
  border: none;
  font-size: 1.4rem;
  color: white;
}

.version-meta {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.version-number {
  font-size: 1.1rem;
  font-weight: bold;
  color: #fff;
}

/* ä¸ºç‰ˆæœ¬åŒºåŸŸä¸­çš„æ›´æ–°å™¨ç»„ä»¶æ·»åŠ è‡ªå®šä¹‰æ ·å¼ */
.version-section :deep(.updater-container) {
  margin: 0;
  flex-direction: column;
  align-items: flex-end;
  gap: 5px;
}

.version-section :deep(.version-display) {
  display: none; /* éšè—é‡å¤çš„ç‰ˆæœ¬å·æ˜¾ç¤º */
}

.version-section :deep(.check-updates-btn) {
  background-color: rgba(255, 255, 255, 0.15);
  color: white;
  border: 1px solid rgba(255, 255, 255, 0.3);
  padding: 4px 10px;
  font-size: 12px;
  min-width: 0;
}

.version-section :deep(.check-updates-btn:hover) {
  background-color: rgba(255, 255, 255, 0.25);
}

.version-section :deep(.update-message) {
  color: white;
  background-color: rgba(0, 0, 0, 0.1);
  max-width: 200px;
  font-size: 12px;
  padding: 6px;
  text-align: right;
}

.version-section :deep(.progress-bar-container) {
  max-width: 150px;
  height: 15px;
  margin-top: 5px;
}

.version-section :deep(.update-message.info),
.version-section :deep(.update-message.success),
.version-section :deep(.update-message.error) {
  background-color: rgba(0, 0, 0, 0.2);
  color: white;
}

.feature-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
  margin-top: 20px;
}

.feature-item {
  display: flex;
  background-color: var(--bg-color, white);
  border-radius: 8px;
  padding: 15px;
}

.feature-icon {
  font-size: 2rem;
  margin-right: 20px;
  display: flex;
  align-items: center;
  flex-shrink: 0;
}

.feature-text h4 {
  margin: 0 0 8px 0;
  font-size: 1.1rem;
  color: var(--text-color, inherit);
}

.feature-text p {
  margin: 0;
  color: var(--text-color, #555);
  opacity: 0.8;
}

.instructions {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.instruction-item {
  display: flex;
  align-items: flex-start;
  background-color: var(--bg-color, white);
  border-radius: 8px;
  padding: 15px;
}

.instruction-number {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 30px;
  height: 30px;
  background-color: var(--active-color, #4CAF50);
  color: var(--active-text, white);
  border-radius: 50%;
  font-weight: bold;
  margin-right: 15px;
  flex-shrink: 0;
}

.instruction-content h4 {
  margin: 0 0 8px 0;
  font-size: 1.1rem;
}

.instruction-content p {
  margin: 0;
  color: var(--text-color, #555);
}

.faq-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.faq-item {
  background-color: var(--bg-color, white);
  border-radius: 8px;
  padding: 15px;
}

.faq-question {
  font-weight: bold;
  margin-bottom: 10px;
  color: var(--text-color, #333);
}

.faq-answer {
  color: var(--text-color, #555);
}

.faq-answer p {
  margin-top: 0;
  margin-bottom: 8px;
}

.faq-answer ul {
  margin-top: 0;
  padding-left: 20px;
}

.contact-info {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  margin-top: 15px;
}

.contact-item {
  display: flex;
  align-items: center;
  background-color: var(--bg-color, white);
  padding: 10px 15px;
  border-radius: 8px;
  margin-right: 15px;
}

.contact-icon {
  margin-right: 10px;
  font-size: 1.2rem;
}

.contact-text {
  font-weight: 500;
}
</style> 